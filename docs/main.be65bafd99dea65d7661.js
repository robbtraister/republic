!function(e){function t(t){for(var r,l,i=t[0],a=t[1],s=t[2],u=0,v=[];u<i.length;u++)l=i[u],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&v.push(n[l][0]),n[l]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(d&&d(t);v.length;)v.shift()();return o.push.apply(o,s||[]),c()}function c(){for(var e,t=0;t<o.length;t++){for(var c=o[t],r=!0,i=1;i<c.length;i++){var a=c[i];0!==n[a]&&(r=!1)}r&&(o.splice(t--,1),e=l(l.s=c[0]))}return e}var r={},n={0:0},o=[];function l(t){if(r[t])return r[t].exports;var c=r[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,l),c.l=!0,c.exports}l.m=e,l.c=r,l.d=function(e,t,c){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(l.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(c,r,function(t){return e[t]}.bind(null,r));return c},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/republic/";var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var d=a;o.push([30,1]),c()}({14:function(e,t,c){e.exports={container:"container__3801J"}},24:function(e,t,c){e.exports={}},3:function(e,t,c){e.exports={"info-card":"info-card__3WIwI",infoCard:"info-card__3WIwI",label:"label__fnXrR",rates:"rates__mpIrX",percentage:"percentage__2j0In"}},30:function(e,t,c){"use strict";c.r(t);var r,n,o,l,i=c(1),a=c(0),s=c.n(a),d=c(13),u=c.n(d),v=c(16);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r])}return e}).apply(this,arguments)}var j=function(e){return a.createElement("svg",b({id:"logo_svg__Layer_1",xmlns:"http://www.w3.org/2000/svg",x:0,y:0,viewBox:"0 0 63.2 63.2",xmlSpace:"preserve"},e),r||(r=a.createElement("style",null,".logo_svg__st0{fill:#27b4d2}")),n||(n=a.createElement("path",{className:"logo_svg__st0",d:"M48.5 46.4L29.7 57.3c-.7.4-1.6.4-2.3 0l-22.6-13c-.1-.1-.3.1-.3.2.3.9.8 1.6 1.6 2.1l20.6 11.9c.5.3 1.2.5 1.8.5.6 0 1.2-.2 1.8-.5L48.5 48c.2-.1.3-.3.3-.5v-.8c0-.3-.2-.4-.3-.3zM4.7 41.2l.6.4c.1.1.3 0 .3-.2V19.6c0-.8.4-1.5 1.1-2l22.6-13c.1-.1.1-.3-.1-.3-.9-.2-1.8-.1-2.6.4L6.2 16.6c-1.1.6-1.8 1.8-1.8 3.1v21c0 .2.1.4.3.5zM50.9 16.6L32.7 6.1c-.2-.1-.4-.1-.6 0l-.7.4c-.1.1-.1.3 0 .4l18.8 10.9c.7.4 1.1 1.1 1.1 1.9v26.1c0 .2.2.3.3.1.6-.6 1-1.5 1-2.4V19.6c.1-1.2-.6-2.4-1.7-3z"})),o||(o=a.createElement("path",{d:"M30.8 18.1c.3-.2.3-.7 0-.9l-1.5-.9c-.3-.1-.5-.2-.8-.2s-.6.1-.8.2l-11.9 6.9c-.5.3-.8.9-.8 1.5v13.7c0 .6.3 1.2.8 1.5l11.9 6.9c.3.1.5.2.8.2s.6-.1.8-.2l11.9-6.9c.5-.3.8-.9.8-1.5V24.7c0-.6-.3-1.2-.8-1.5l-5.3-3.1c-.3-.2-.6-.2-.9 0l-2 1.1c-.3.2-.3.6 0 .8l5.9 3.4v12.1l-10.5 6-10.5-6v-12l12.9-7.4z",fill:"#0061a2"})),l||(l=a.createElement("g",null,a.createElement("path",{d:"M33.6 50.2c.3.2.6.2.9 0l11.6-6.7c1-.6 1.6-1.7 1.6-2.8V22.3c0-1.2-.6-2.3-1.6-2.8-.2-.1-.4 0-.4.2v21c0 .4-.2.8-.6 1L32.5 49c-.2.1-.2.4 0 .5l1.1.7zM41.8 17l-11.6-6.7c-1-.6-2.3-.6-3.3 0L11 19.5c-1 .6-1.6 1.7-1.6 2.8v18.4c0 1 .5 2 1.3 2.6.1.1.2.2.4.3L27 52.8c1 .6 2.3.6 3.3 0 .2-.1.2-.4 0-.5L12 41.8c-.4-.2-.6-.6-.6-1V22.4c0-.4.2-.8.6-1l15.9-9.2c.2-.1.4-.2.6-.2s.4.1.6.2l12.4 7.2c.3.2.6 0 .6-.3v-1.3c0-.5-.1-.7-.3-.8z",fill:"#0097c4"}),a.createElement("path",{d:"M28.5 24.400000000000002c-.1 0-.3 0-.4.1l-5.5 3.2c-.2.1-.4.4-.4.7v6.4c0 .3.1.5.4.7l5.5 3.2c.1.1.3.1.4.1s.3 0 .4-.1l5.5-3.2c.2-.1.4-.4.4-.7v-6.4c0-.3-.1-.5-.4-.7l-5.5-3.2c-.2-.1-.3-.1-.4-.1z",fill:"#243a76"}))))},p=c(8),O=c.n(p),g=(c(23),c(14)),f=c.n(g);O.a.accessToken="pk.eyJ1Ijoicm9iYi10cmFpc3RlciIsImEiOiJja3F0emc4djEyZXE0MndwZTJldmNndzE1In0.meVaPSdL9woUC9beFzSldQ";const h=Object(a.createContext)(void 0);function m({children:e,config:t}){const c=Object(a.useRef)(null),[r,n]=Object(a.useState)();return Object(a.useEffect)((()=>{const e=new O.a.Map(Object.assign(Object.assign({},t),{container:c.current}));return n(e),()=>e.remove()}),[t,c]),Object(i.jsx)("div",Object.assign({className:f.a.container,ref:c},{children:Object(i.jsx)(h.Provider,Object.assign({value:r},{children:e}),void 0)}),void 0)}var x=c(3),y=c.n(x);function _({county:e}){return Object(i.jsx)("div",Object.assign({role:"table",className:y.a.infoCard},{children:e?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",Object.assign({role:"rowheader"},{children:Object(i.jsx)("div",Object.assign({role:"cell"},{children:"Diabetes Rate"}),void 0)}),void 0),Object(i.jsxs)("div",Object.assign({role:"row"},{children:[Object(i.jsx)("div",Object.assign({role:"cell",className:y.a.label},{children:"State:"}),void 0),Object(i.jsx)("div",Object.assign({role:"cell"},{children:e.State}),void 0)]}),void 0),Object(i.jsxs)("div",Object.assign({role:"row"},{children:[Object(i.jsx)("div",Object.assign({role:"cell",className:y.a.label},{children:"County:"}),void 0),Object(i.jsx)("div",Object.assign({role:"cell"},{children:e.County}),void 0)]}),void 0),Object(i.jsxs)("div",Object.assign({role:"row",className:y.a.rates},{children:[Object(i.jsxs)("div",Object.assign({role:"cell"},{children:[e["Lower Limi"],"%"]}),void 0),Object(i.jsxs)("div",Object.assign({role:"cell",className:y.a.percentage},{children:[e.Percentage,"%"]}),void 0),Object(i.jsxs)("div",Object.assign({role:"cell"},{children:[e["Upper Limi"],"%"]}),void 0)]}),void 0)]},void 0):Object(i.jsx)(i.Fragment,{children:"Click a county for more information"},void 0)}),void 0)}var w=c(9),S=c.n(w);function k({properties:e,pt:t}){const c=t.y>window.innerHeight/2?{left:t.x,top:t.y-10,transform:"translate(-50%, -100%)"}:{left:t.x,top:t.y+30,transform:"translateX(-50%)"};return Object(i.jsxs)("div",Object.assign({role:"table",className:S.a.tooltip,style:c},{children:[Object(i.jsx)("div",Object.assign({role:"row"},{children:e.State}),void 0),Object(i.jsx)("div",Object.assign({role:"row"},{children:e.County}),void 0),Object(i.jsxs)("div",Object.assign({role:"row",className:S.a.percentage},{children:[e.Percentage,"%"]}),void 0)]}),void 0)}function L({layer:e,source:t,children:c,onClick:r,onHover:n}){const o=Object(a.useContext)(h);return Object(a.useEffect)((()=>{if(o){const c=e.source;let l,i;function a(e,t){(null==e?void 0:e.id)!==(null==l?void 0:l.id)&&(l&&o.setFeatureState(l,{hovered:!1}),e&&o.setFeatureState(e,{hovered:!0})),l=e;const c=null==e?void 0:e.properties;null==n||n(c,t)}function s(){(null==o?void 0:o.getSource(c))||o.addSource(c,t),o.addLayer(e),o.on("click",(t=>{const c=o.queryRenderedFeatures(t.point,{layers:[e.id]});var n;(null==(n=null==c?void 0:c[0])?void 0:n.id)!==(null==i?void 0:i.id)&&(i&&o.setFeatureState(i,{clicked:!1}),n&&o.setFeatureState(n,{clicked:!0})),i=n,null==r||r(null==n?void 0:n.properties)})),o.on("mouseenter",e.id,(()=>{o.getCanvas().style.cursor="pointer"})),o.on("mouseleave",e.id,(()=>{o.getCanvas().style.removeProperty("cursor"),a()})),o.on("mousemove",e.id,(e=>{var t;a(null===(t=e.features)||void 0===t?void 0:t[0],e.point)})),o.on("mousedown",e.id,(()=>{null==n||n(void 0)}))}return o.loaded()?s():o.on("load",s),()=>{try{o.removeLayer(e.id),i&&o.setFeatureState(i,{clicked:!1}),l&&o.setFeatureState(l,{hovered:!1})}catch(e){}}}}),[o,e,t,r,n]),Object(i.jsx)(i.Fragment,{children:null!=c?c:null},void 0)}const P="#243A76",C={type:"vector",url:"mapbox://robb-traister.8gp3ur7k"},M={id:"diabetes-data",type:"fill",source:"diabetes-atlas","source-layer":"diabetes-60i77q",paint:{"fill-outline-color":P,"fill-color":["case",["boolean",["feature-state","clicked"],!1],P,["boolean",["feature-state","hovered"],!1],P,"#0097C4"],"fill-opacity":["case",["boolean",["feature-state","clicked"],!1],.75,["boolean",["feature-state","hovered"],!1],.5,["interpolate",["linear"],["to-number",["get","Percentage"]],0,0,100,2]]}};function F(){const[e,t]=Object(a.useState)(),[c,r]=Object(a.useState)(),n=Object(a.useCallback)(((e,t)=>{r(e?{properties:e,pt:t}:void 0)}),[r]);return Object(i.jsxs)(L,Object.assign({source:C,layer:M,onClick:t,onHover:n},{children:[Object(i.jsx)(_,{county:e},void 0),c?Object(i.jsx)(k,Object.assign({},c),void 0):null]}),void 0)}var E=c(5),N=c.n(E);const I={style:"mapbox://styles/mapbox/streets-v11",center:[-96,38],zoom:4};c(24);const z=new URLSearchParams(window.location.search).get("redirect");z&&history.replaceState(null,"",z),u.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(v.a,Object.assign({basename:"/republic"},{children:Object(i.jsx)((function(){const[e,t]=Object(a.useState)(!0);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",Object.assign({className:N.a.header},{children:[Object(i.jsx)(j,{className:N.a.logo},void 0),Object(i.jsx)("span",Object.assign({className:N.a.wordMark},{children:"Re:Public"}),void 0)]}),void 0),Object(i.jsxs)(m,Object.assign({config:I},{children:[Object(i.jsxs)("div",Object.assign({className:N.a.toggle},{children:[Object(i.jsx)("input",{type:"checkbox",id:"diabetes-toggle",checked:e,onChange:e=>{t(e.target.checked)}},void 0),Object(i.jsx)("label",Object.assign({htmlFor:"diabetes-toggle"},{children:"Diabetes Layer"}),void 0)]}),void 0),e?Object(i.jsx)(F,{},void 0):null]}),void 0)]},void 0)}),{},void 0)}),void 0)},void 0),document.getElementById("root"))},5:function(e,t,c){e.exports={header:"header__17PhQ",logo:"logo__oO4st","word-mark":"word-mark__1L86u",wordMark:"word-mark__1L86u",toggle:"toggle__3fvkH"}},9:function(e,t,c){e.exports={tooltip:"tooltip__2flhe",percentage:"percentage__3ZmDc"}}});
//# sourceMappingURL=main.be65bafd99dea65d7661.js.map